Ragnarok 0.9.0 BETA 
===========
加密聊天器

加密文件流传输器

服务端 
------
Ragnarok_server\server.py 

python3.6.4

### 说明

考虑到很多宽带都是NAT的内网，所以通过公网小鸡桥接。

服务端只做用户合法性验证和双向搭桥，可以放在国内小鸡上。

有一根长长的网线，一直伸到你家里，你说什么做什么他们都知道的一清二楚。

于是我决定写这玩意，名字随便起的。再也不用担心被视奸了

### 设置

在config里改小鸡的公网IP和端口，对linux了解不太多，怎么在服务器上舒服地运行还请dalao写个shell加进来（写了个实验版后台shell但是会抽风）


聊天模块
------
Ragnarok C#

### 使用环境
Windows 10 64bit 1709 (16299.248)
 
.NET Framework 4.7.1 
 
### 开发环境
Microsoft .NET Framework 4.7.1 Developer Pack

Visual Studio IDE 2017

### 设置
UserID：你自己的代号,仅限大小写字母和数字

TargetID：你想和谁说悄悄话

Target_IP：小鸡的公网IP

Target_Port：服务器监听端口

### 标准操作程序SOP

我这种业余三线菜鸡选手写出来的祖传级代码经常出现一些我自己都搞不明白的奇怪碧油鸡，按照标准操作程序使用大概不会出问题。大概

1.打开服务端

2.小明和小红打开客户端，互为TargetID，懂我什么意思吧。然后连接服务器，服务器握手建立以后，即可开始网上冲浪。

3.点击网上冲浪，进入聊天窗口，进行秘钥互换和聊天通道握手，完成后发送按钮亮起，就可以互发小秘密了。

4.发送文件由一方发起，另一方接受或拒绝，接受后进入文件发送窗口。

5.发起方选择文件再发送，接收方什么也别管，会自动在根目录生成一个tmp.bin和解码文件（我懒得加删tmp的代码了，麻烦传完自己动手丰衣足食谢谢）

6.传送完成后，关闭文件发送窗口。大概可以同时聊天吧，用的是不同的隧道和监听线程。

7.关闭聊天窗口继续关闭连接窗口，关闭聊天窗口后，如果想重新建立连接，一定要关闭整个程序再打开，顺手把服务器重置一下最好。

8.服务器写的太粗糙，在关闭连接的时候经常崩。服务器崩了会带着客户端一起崩。如果客户端崩了，记得用任务管理器检查一下有没有残留进程。

9.No zuo no die，电脑搞坏了别找我。

### 加密特性
C#重构的客户端，加密逻辑完全重写，我觉得我有时间做个图解好了，加密逻辑和线程调用复杂到记忆力都拯救不了我了。

我就不吹有多保密了

人为因素
------
中间人攻击是个目前没有什么解决办法的事情，所以才有了CA去保证RSA公钥的可靠。一个程序中，最薄弱的环节是人。最迫不得已的办法，显示接收到的秘钥以便在旁路（线下py交易，企鹅vx）上进行公钥可靠性的确认。不过不干坏事也不会招致高科技的中间人攻击……技术无罪。

另外考虑到社工的问题，ID最好不要起自己喜欢的一些字段。和服务器交换ID的时候是明文，可能是个隐患。


随笔
-----
##### 2018年2月22日：

历时一个月从什么都不懂，到开始盲人摸蛇。今天算是瞎猫撞上死耗子撸出来这个程序了，差点弃坑。有的时候比较喜欢大开脑洞，比如2100年的一个晚上，K摘下了手表眼睛手机，带着一张写满英文数字的纸条出门了。在一个小巷和一个老哥擦肩而过的时候，仿佛手里的纸条有一点点的不一样。回到家，拿出爷爷的信仰阿苏斯笔记本，打开了Ragnarok，进入了这个cyberpunk时代最后的世外桃源。

##### 2018年2月27日
没有C#大佬重构，我就自己动手丰衣足食吧。安装和使用都会更方便。不过命令行更有黑客的感觉，做人不装逼，和咸鱼有什么区别。

##### 2018年3月4日
C#重构完成，我宣布彻底放弃python客户端的开发，重心转移到现有功能的碧油鸡处理上。

py真的不适合做客户端，加密效率低的可怕，多线程的时候蜜汁出现输入输出锁死和干扰，GUI开发也是一坨翔，运行环境还需要额外安装，命令行的交互和功能激活也难以实现。

毕竟C#是巨硬亲儿子，加上蓝星最强IDE，只有想不到没有做不到，五层线程一环套一环，四个线程同时跑，GUI设计简单粗暴，调用CPU指令集对数据流加密，我的sm951竟然成了瓶颈，从各方面都吊打python了。

早期python开发客户端只是为了功能验证，以后C#就是我的爸爸。

做了个文件传输以后，我实在是想不出来还有什么拓展性，如果各位大佬有什么好的建议请fork或者留言

更新信息
------
0.9.0 Beta : 设计之初计划的两个功能完全实现，GUI实现。进行1.0 release之前的碧油鸡处理。

0.1.0 Beta C# Rebuild :梦回OICQ。

0.2.1 Beta : 一些标准化异常处理

0.2.0 Beta : 加入AES字节流文件加密传输端

0.1.0 Beta ：第一版实现了非对称加密文字流互换
